{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Hermes\\\\Desktop\\\\Pit\\\\covid-app\\\\frontend\\\\src\\\\components\\\\Book\\\\BookForm.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from \"react\";\nimport { Button } from \"react-bulma-components\";\nimport { Formik, Form, Field, ErrorMessage } from \"formik\";\nimport DatePicker from \"react-datepicker\";\nimport \"./index.css\";\nimport \"react-datepicker/dist/react-datepicker.css\";\nimport axios from \"../../utils/api\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction BookForm() {\n  _s();\n\n  const [books, setBooks] = useState([]);\n\n  const fetchBooks = async () => {\n    try {\n      const res = await axios.get(\"/book\");\n      setBooks(res.data.books);\n      console.log(books);\n    } catch (e) {\n      console.log(e);\n    }\n  };\n\n  useEffect(() => {\n    fetchBooks();\n  }, []);\n  const initialValues = {\n    name: \"\",\n    birthDay: null,\n    date: null,\n    isRetired: null,\n    isVaccinated: false\n  };\n\n  const onSubmit = async values => {\n    const {\n      name,\n      date,\n      birthDay\n    } = values;\n    values.birthDay = getAge(birthDay);\n    console.log(values);\n\n    try {\n      const res = await axios.post(\"/book\", values);\n      console.log(res.data);\n    } catch (e) {\n      console.log(e);\n    }\n  };\n\n  const getAge = time => {\n    const today = new Date();\n    const birthDay = new Date(time);\n    const age = today.getUTCFullYear() - birthDay.getUTCFullYear();\n\n    if (birthDay.getMonth < today.getMonth()) {\n      return age;\n    } else if (birthDay.getMonth() === today.getMonth()) {\n      if (birthDay.getDay() < today.getDay()) {\n        return age;\n      } else return age - 1;\n    } else return age - 1;\n  };\n\n  function validate(values) {\n    const errors = {};\n\n    if (!values.name) {\n      errors.name = \"Required\";\n    }\n\n    if (!values.birthDay) {\n      errors.birthDay = \"Required\";\n    }\n\n    if (!values.date) {\n      errors.date = \"Required\";\n    }\n\n    return errors;\n  }\n\n  return /*#__PURE__*/_jsxDEV(Formik, {\n    initialValues: initialValues,\n    validate: validate,\n    onSubmit: onSubmit,\n    children: /*#__PURE__*/_jsxDEV(Form, {\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        className: \"label\",\n        children: \"Nome Completo\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Field, {\n        type: \"text\",\n        name: \"name\",\n        className: \"input\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(ErrorMessage, {\n        name: \"name\",\n        component: \"div\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        className: \"label\",\n        children: \"Data de Nascimento\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Field, {\n        name: \"birthDay\",\n        children: ({\n          form,\n          field\n        }) => {\n          const {\n            setFieldValue\n          } = form;\n          const {\n            value\n          } = field;\n          return /*#__PURE__*/_jsxDEV(DatePicker, {\n            className: \"input\",\n            dateFormat: \"dd/MM/yyyy\",\n            maxDate: new Date(),\n            id: \"birthDay\",\n            ...field,\n            selected: value,\n            onChange: val => setFieldValue(\"birthDay\", val),\n            showMonthDropdown: true,\n            showYearDropdown: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 86,\n            columnNumber: 15\n          }, this);\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(ErrorMessage, {\n        name: \"birthDay\",\n        component: \"div\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        className: \"label\",\n        children: \"Data de Vacina\\xE7\\xE3o\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Field, {\n        name: \"date\",\n        placeHolder: \"Data de vacina\\xE7\\xE3o\",\n        children: ({\n          form,\n          field\n        }) => {\n          const {\n            setFieldValue\n          } = form;\n          const {\n            value\n          } = field;\n          return /*#__PURE__*/_jsxDEV(DatePicker, {\n            className: \"input\",\n            dateFormat: \"dd/MM/yyyy\",\n            minDate: new Date(),\n            id: \"date\",\n            ...field,\n            selected: value,\n            onChange: val => setFieldValue(\"date\", val)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 107,\n            columnNumber: 15\n          }, this);\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        className: \"label\",\n        children: \"Hor\\xE1rio da Vacina\\xE7\\xE3o\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Field, {\n        type: \"option\",\n        as: \"select\",\n        name: \"hour\",\n        className: \"input\",\n        children: [/*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"\",\n          children: \"8:00\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 121,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"\",\n          children: \"8:30\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 122,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"\",\n          children: \"9:00\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 123,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"\",\n          children: \"9:30\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 124,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"\",\n          children: \"10:00\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 125,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"\",\n          children: \"10:30\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 126,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"\",\n          children: \"11:00\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 127,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"\",\n          children: \"11:30\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 128,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"\",\n          children: \"12:00\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 129,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"\",\n          children: \"12:30\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 130,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"\",\n          children: \"13:00\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 131,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"\",\n          children: \"13:30\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 132,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"\",\n          children: \"14:00\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 133,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"\",\n          children: \"14:30\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 134,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"\",\n          children: \"15:00\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 135,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"\",\n          children: \"15:30\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 136,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"\",\n          children: \"16:00\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 137,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"\",\n          children: \"16:30\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 138,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"\",\n          children: \"17:00\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 139,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"\",\n          children: \"17:30\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 140,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"18:00\",\n          children: \"18:00\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 141,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(ErrorMessage, {\n        name: \"date\",\n        component: \"div\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        type: \"submit\",\n        color: \"info\",\n        className: \"box-button is-medium\",\n        children: \"Submit\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 71,\n    columnNumber: 5\n  }, this);\n}\n\n_s(BookForm, \"ww1JAI05mMsgubm5EIyBKqdj5S0=\");\n\n_c = BookForm;\nexport default BookForm;\n\nvar _c;\n\n$RefreshReg$(_c, \"BookForm\");","map":{"version":3,"sources":["C:/Users/Hermes/Desktop/Pit/covid-app/frontend/src/components/Book/BookForm.jsx"],"names":["React","useEffect","useState","Button","Formik","Form","Field","ErrorMessage","DatePicker","axios","BookForm","books","setBooks","fetchBooks","res","get","data","console","log","e","initialValues","name","birthDay","date","isRetired","isVaccinated","onSubmit","values","getAge","post","time","today","Date","age","getUTCFullYear","getMonth","getDay","validate","errors","form","field","setFieldValue","value","val"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { Button } from \"react-bulma-components\";\nimport { Formik, Form, Field, ErrorMessage } from \"formik\";\nimport DatePicker from \"react-datepicker\";\nimport \"./index.css\";\nimport \"react-datepicker/dist/react-datepicker.css\";\nimport axios from \"../../utils/api\";\n\nfunction BookForm() {\n  const [books, setBooks] = useState([]);\n  const fetchBooks = async () => {\n    try {\n      const res = await axios.get(\"/book\");\n      setBooks(res.data.books);\n      console.log(books);\n    } catch (e) {\n      console.log(e);\n    }\n  };\n  useEffect(() => {\n    fetchBooks();\n  }, []);\n\n  const initialValues = {\n    name: \"\",\n    birthDay: null,\n    date: null,\n    isRetired: null,\n    isVaccinated: false,\n  };\n\n  const onSubmit = async (values) => {\n    const { name, date, birthDay } = values;\n    values.birthDay = getAge(birthDay);\n    console.log(values);\n    try {\n      const res = await axios.post(\"/book\", values);\n      console.log(res.data);\n    } catch (e) {\n      console.log(e);\n    }\n  };\n\n  const getAge = (time) => {\n    const today = new Date();\n    const birthDay = new Date(time);\n    const age = today.getUTCFullYear() - birthDay.getUTCFullYear();\n    if (birthDay.getMonth < today.getMonth()) {\n      return age;\n    } else if (birthDay.getMonth() === today.getMonth()) {\n      if (birthDay.getDay() < today.getDay()) {\n        return age;\n      } else return age - 1;\n    } else return age - 1;\n  };\n\n  function validate(values) {\n    const errors = {};\n    if (!values.name) {\n      errors.name = \"Required\";\n    }\n    if (!values.birthDay) {\n      errors.birthDay = \"Required\";\n    }\n    if (!values.date) {\n      errors.date = \"Required\";\n    }\n    return errors;\n  }\n  return (\n    <Formik\n      initialValues={initialValues}\n      validate={validate}\n      onSubmit={onSubmit}\n    >\n      <Form>\n        <label className=\"label\">Nome Completo</label>\n        <Field type=\"text\" name=\"name\" className=\"input\"></Field>\n        <ErrorMessage name=\"name\" component=\"div\" />\n        <label className=\"label\">Data de Nascimento</label>\n        <Field name=\"birthDay\">\n          {({ form, field }) => {\n            const { setFieldValue } = form;\n            const { value } = field;\n            return (\n              <DatePicker\n                className=\"input\"\n                dateFormat=\"dd/MM/yyyy\"\n                maxDate={new Date()}\n                id=\"birthDay\"\n                {...field}\n                selected={value}\n                onChange={(val) => setFieldValue(\"birthDay\", val)}\n                showMonthDropdown\n                showYearDropdown\n              />\n            );\n          }}\n        </Field>\n        <ErrorMessage name=\"birthDay\" component=\"div\" />\n        <label className=\"label\">Data de Vacinação</label>\n        <Field name=\"date\" placeHolder=\"Data de vacinação\">\n          {({ form, field }) => {\n            const { setFieldValue } = form;\n            const { value } = field;\n            return (\n              <DatePicker\n                className=\"input\"\n                dateFormat=\"dd/MM/yyyy\"\n                minDate={new Date()}\n                id=\"date\"\n                {...field}\n                selected={value}\n                onChange={(val) => setFieldValue(\"date\", val)}\n              />\n            );\n          }}\n        </Field>\n        <label className=\"label\">Horário da Vacinação</label>\n        <Field type=\"option\" as=\"select\" name=\"hour\" className=\"input\">\n          <option value=\"\">8:00</option>\n          <option value=\"\">8:30</option>\n          <option value=\"\">9:00</option>\n          <option value=\"\">9:30</option>\n          <option value=\"\">10:00</option>\n          <option value=\"\">10:30</option>\n          <option value=\"\">11:00</option>\n          <option value=\"\">11:30</option>\n          <option value=\"\">12:00</option>\n          <option value=\"\">12:30</option>\n          <option value=\"\">13:00</option>\n          <option value=\"\">13:30</option>\n          <option value=\"\">14:00</option>\n          <option value=\"\">14:30</option>\n          <option value=\"\">15:00</option>\n          <option value=\"\">15:30</option>\n          <option value=\"\">16:00</option>\n          <option value=\"\">16:30</option>\n          <option value=\"\">17:00</option>\n          <option value=\"\">17:30</option>\n          <option value=\"18:00\">18:00</option>\n        </Field>\n        <ErrorMessage name=\"date\" component=\"div\" />\n        <Button type=\"submit\" color=\"info\" className=\"box-button is-medium\">\n          Submit\n        </Button>\n      </Form>\n    </Formik>\n  );\n}\n\nexport default BookForm;\n"]},"metadata":{},"sourceType":"module"}